{% extends 'base.html'%}

{% block title %} See all Schools {% endblock %}

{% block content %}
<h1 align="center">Showing all schools</h1>
<div class="table-responsive">
	<table class="table table-bordered table-hover">
		<caption>Schools list</caption>
		<thead class="thead-dark">
			<tr>
				<th scope="col">Name</th>
				<th scope="col">Enrollment Year</th>
				<th scope="col">Classes</th>
				<th scope="col">Chain</th>

			</tr>
		</thead>
		{% for school in schools %}
		<tbody>
			<tr>
				<th scope="row">{{ school.school_name }}
					<div class="dropdown show">
						<a class="btn btn-secondary dropdown-toggle" href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
							Action
						</a>
						<div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
							<a class="dropdown-item"href="{% url 'school:add_class' school.school_id %}" data-baloon="Remove this item from the cart" class="text-danger">Add Class To School</a>
							<a class="dropdown-item" href="{% url 'school:update_school' school.school_id %}" data-baloon="Remove this item from the cart" class="text-danger">Update School</a>
							<a class="dropdown-item" href="{% url 'school:delete_school' school.school_id %}" data-baloon="Remove this item from the cart" class="text-danger">Delete School</a>
						</div>
					</div>
				</th>
				<td>{{ school.enrollment_year }}</td>

				{% if school.classes %}
				<td>
					{% for class in school.classes.all %}

					<label>Name of the Class: {{ class.class_name }}</label><br>
					<label>Enrollment Year: {{ school.enrollment_year }}</label><br>
					<div class="dropdown show">
						<a class="btn btn-secondary dropdown-toggle" href="" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
							Action
						</a>

						<div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
							<a class="dropdown-item" href="{% url 'school:seeclassbyid' class.class_id %}" data-baloon="Remove this item from the cart" class="text-danger">See the detailed class</a>
							<a class="dropdown-item" href="{% url 'school:verifyvalidchain' class.class_id %}" data-baloon="Remove this item from the cart" class="text-danger">Verify valid chain for this class</a>
							<a class="dropdown-item" href="{% url 'school:update_class' class.class_id %}" data-baloon="Remove this item from the cart" class="text-danger">Update this class</a>
							<a class="dropdown-item" href="{% url 'school:delete_class' class.class_id %}" data-baloon="Remove this item from the cart" class="text-danger">Delete this class</a>
						</div>
					</div>
					<br>
					{% endfor %}
				</td>
				{% endif %}
				{% if school.chains %}
				<td>
					{% for chain in school.chains.all %}

					<label>Chain name: {{ chain.name }}</label><br>
					<a class="btn btn-secondary" href="{% url 'school:seechainbyname' chain.name %}" data-baloon="Remove this item from the cart" class="text-danger">See Chain details</a>
					<br>
					<br>
					<br>
			{% endfor %}
			{% endif %}

			</td>
	</tr>
	{% endfor %}
</tbody>
</table>
</div>
{% endblock %}
<!-- <i class="fas fa-trash"></i> -->
