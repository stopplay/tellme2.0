{% extends 'base.html'%}

{% block title %} Create new User {% endblock %}

{% block content %}
<script>
$(document).ready(function() {
  $('.container').removeClass('container');
});
</script>


<div class="content">
	<div class="container-fluid">
		<div class="row">
			<div class="col-md-8">
				<div class="card">
					<div class="card-header">
						<h4 class="card-title">Add a New User</h4>
					</div>
					<div class="card-body">
						<div class="row">
							<div class="col-md-5 pr-1">
								<div class="form-group">
									<form method="POST" class=""> {% csrf_token %}

										<div class="form-group">
												<label>First name: </label>

										<div class="">
												{{ form.first_name }}
										</div>
                    </div>
										<div class="form-group">
											<label>Last name: </label>

										<div class="">
												{{ form.last_name }}
										</div>
                    </div>
										<div class="form-group">
											<label>Email: </label>

										<div class="">
												{{ form.email }}
										</div>
                    </div>

										<div class="form-group">
											<label>Username: </label>

										<div class="">
											{{ form.username }}
										</div>
                    </div>

										<div class="form-group">
											<label>Password: </label>

										<div class="">
											{{ form.password1 }}
										</div>
                    </div>

										<div class="form-group">
											<label>Password Confirmation: </label>

									<div class="">
											{{ form.password2 }}
										</div>
                    </div>

                    <div class="clearfix"></div>
										<div class="labelandform">
										<select class="custom-select " id="select_form">
											<option id="" value="" selected>Select Type of User</option>
											<option value="head_school">Diretor</option>
											<option value="teacher">Professor</option>
											<option value="admin">Admin</option>
											<option value="supervisor">Supervisor</option>
											<option value="parent">Pai/Mãe</option>
											<option value="student">Estudante</option>
										</select>
									</div>
									<div id="pai">
									</div>
									<input type="hidden" id="selected_user" name="selected_user" value="0">
                  <div class="clearfix"></div>
								<div>	<button class="btn btn-info btn-fill pull-left" type="submit">Register</button></div>
								</form>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>

		</div>
	</div>
</div>
<script type="text/javascript">
	$(document).ready(function(){
		$('#pai').children('div').hide();
		$('#pai').children('div').remove();
		$('#select_form').on('change',function(){
			var selectValor = $(this).val();
			if (selectValor == '') {
				$('#pai').children('div').remove();
				document.getElementById('selected_user').value = '0'
			}
			else if(selectValor == 'head_school'){
				$('#pai').children('#teacher').remove();
				$('#pai').children('#admin').remove();
				$('#pai').children('#supervisor').remove();
				$('#pai').append('<div id="head_school"><p>Este é o formulário para um Diretor</p>{{ form2.as_p }}')
				document.getElementById('selected_user').value = '1'
			}
			else if(selectValor == 'teacher'){
				$('#pai').children('#head_school').remove();
				$('#pai').children('#admin').remove();
				$('#pai').children('#supervisor').remove();
				$('#pai').children('#parent').remove();
				$('#pai').children('#student').remove();
				$('#pai').append('<div id="teacher"><p>Este é o formulário para um Professor</p>{{ form3.as_p }}')
				document.getElementById('selected_user').value = '2'
			}
			else if(selectValor == 'admin'){
				$('#pai').children('#head_school').remove();
				$('#pai').children('#teacher').remove();
				$('#pai').children('#supervisor').remove();
				$('#pai').children('#parent').remove();
				$('#pai').children('#student').remove();
				$('#pai').append('<div id="admin"><p>Este é o formulário para um Admin</p>{{ form4.as_p }}')
				document.getElementById('selected_user').value = '3'
			}
			else if(selectValor == 'supervisor'){
				$('#pai').children('#head_school').remove();
				$('#pai').children('#teacher').remove();
				$('#pai').children('#admin').remove();
				$('#pai').children('#parent').remove();
				$('#pai').children('#student').remove();
				$('#pai').append('<div id="supervisor"><p>Este é o formulário para um Supervisor</p>{{ form5.as_p }}')
				document.getElementById('selected_user').value = '4'
			}
			else if(selectValor == 'parent'){
				$('#pai').children('#head_school').remove();
				$('#pai').children('#teacher').remove();
				$('#pai').children('#admin').remove();
				$('#pai').children('#supervisor').remove();
				$('#pai').children('#student').remove();
				$('#pai').append('<div id="parent"><p>Este é o formulário para um Pai/Mãe</p>{{ form6.as_p }}')
				document.getElementById('selected_user').value = '5'
			}
			else if(selectValor == 'student'){
				$('#pai').children('#head_school').remove();
				$('#pai').children('#teacher').remove();
				$('#pai').children('#admin').remove();
				$('#pai').children('#supervisor').remove();
				$('#pai').children('#parent').remove();
				$('#pai').append('<div id="student"><p>Este é o formulário para um Estudante</p>{{ form6.as_p }}')
				document.getElementById('selected_user').value = '6'
			}
			$('#pai').children('div').hide();
			$('#pai').children('#'+selectValor).show();
		});
	});
</script>

{% endblock %}
